<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            /* position: relative; */
            /* border: 2px solid red; */
        }
        #xxx{
            position: absolute;
            top:0;
            left: 0;
            height: 200px;
            width: 200px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <div id="xxx"></div>
    <script>
        console.log('有用');
        // let div = document.querySelector('#xxx')
        let move = false;
        let position = null;
        xxx.addEventListener('mousedown',(e)=>{
            position = [e.clientX,e.clientY]
            console.log(position);
            // console.log(e)
            move = true;
            console.log(move)
        });
        // document.querySelector('body').addEventListener('mousemove',(e)=>{console.log(e)})

        document.addEventListener('mousemove',(e)=>{
            // console.log(e)
            // if(move===true){
            //     let position1 = [e.clientX,e.clientY];
            //     console.log(position1)
            // }else{
            //     return;                
            // }
            if(move === false){
                // console.log(move)
                return;
            }
            // let position1 = [e.clientX,e.clientY];
            // console.log(position1)   
            console.log('监听到了')
            const x = e.clientX;
            const y = e.clientY;
            console.log(position);
            console.log(x,y)
            const delayX = x - position[0];
            const delayY = y - position[1];
            const left = parseInt(xxx.style.left || 0)
            const top = parseInt(xxx.style.top || 0)
            xxx.style.left = left + delayX + 'px'
            xxx.style.top = top + delayY + 'px'
            position = [x,y]      
        })
        document.addEventListener('mouseup', (e)=>{ move = false })

    </script>
</body>
</html>